<template>
	<div class="slds-card slds-card_boundary" style="width:400px;">
		<h1 class="slds-align_absolute-center" style="background-color:rgb(35, 121, 201); color:white; padding-bottom:10px; padding-top:10px">
			Prospected {termInMonths} Month Terms
		</h1>
		<hr>
		<div style="padding:20px;">
			<div class="slds-form-element">
				<label class="slds-form-element__label" for="slider-id-01">
					<span class="slds-slider-label">
						<span class="slds-slider-label__label">Funding Amount</span>
						<span class="slds-slider-label__range">${minFundingAmtLabel} - ${maxFundingAmtLabel}</span>
					</span>
				</label>
				<div class="slds-form-element__control">
					<div class="slds-slider">
					<input type="range" id="slider-id-01" class="slds-slider__range" step=100 min={minFundingAmt} max={maxFundingAmt} value={fundingAmt} oninput={changeFundingAmt}>
					<span class="slds-slider__value" aria-hidden="true">${fundingAmtLabel}</span>
					</div>
				</div>
			</div>
		</div>
		<hr>
		<div class="row">
			<p class="column">Payback Amount</p>
			<p class="column" style="color:green;">${paybackAmt}</p>
		</div>
		<hr>
		<div class="row">
			<p class="column">PMT Schedule</p>
			<p class="column">{pmtSchedule}</p>
		</div>
		<hr>
		<div class="row">
			<p class="column">Payment Amount</p>
			<p class="column">${paymentAmt}</p>
		</div>
		<hr>
		<div class="row">
			<p class="column">Prepay Discounts/Options</p>
			<p class="column"></p>
		</div>
		<hr>
		<div class="row">
			<p class="column">Term</p>
			<p class="column">{termInMonths} Months</p>
		</div>

		<template if:true={selectOffer}>
			<lightning-button class="slds-align_absolute-center" variant="brand" style="margin:25px;" label="Select Offer" onclick={showModalBox}></lightning-button>
		</template>
		<template if:true={unselectOffer}>
			<lightning-button class="slds-align_absolute-center" variant="brand-outline" style="margin:25px;" label="Deselect Offer" onclick={deSelectThisOffer}></lightning-button>
		</template>

	</div>

	 <!-- modal start -->      
	<template if:true={isShowModal}>
	<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
		<div class="slds-modal__container">

			<!-- modal header start -->
			<header class="slds-modal__header">
				<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModalBox}>
					<lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small" ></lightning-icon> <span class="slds-assistive-text">Close</span>
				</button>
				<h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Offer Select Window</h2>
			</header>
		
			<!-- modal body start -->
			<div class="slds-modal__content slds-var-p-around_medium" id="modal-content-id-1">
				<h2>Please upload these required documents:</h2>
				<template for:each={closingDocumentsRequired} for:item="document" for:index="index">
					<h1 key={document}>â€¢ {document}</h1>
				</template>
				<br><br>
				<c-custom-file-upload record-id={opportunityID}></c-custom-file-upload>
				<!-- <lightning-file-upload
					record-id={opportunityID}
					file-field-name="Documents__c"
					file-field-value="true"
					accept={acceptedFormats}
					name="fileUploader"
					class="file-selector-large"
					label="Attach files"
					title="The tooltip for the file uploader"
					onuploadfinished={handleUploadFinished}
					multiple>
				</lightning-file-upload> -->
				<hr>
				<div class="row">
					<p class="column">Funding Amount</p>
					<p class="column" style="color:green;">${fundingAmtLabel}</p>
				</div>
				<hr>
				<div class="row">
					<p class="column">Payback Amount</p>
					<p class="column" style="color:green;">${paybackAmt}</p>
				</div>
				<hr>
				<div class="row">
					<p class="column">PMT Schedule</p>
					<p class="column">{pmtSchedule}</p>
				</div>
				<hr>
				<div class="row">
					<p class="column">Payment Amount</p>
					<p class="column">${paymentAmt}</p>
				</div>
				<hr>
				<div class="row">
					<p class="column">Prepay Discounts/Options</p>
					<p class="column"></p>
				</div>
				<hr>
				<div class="row">
					<p class="column">Term</p>
					<p class="column">{termInMonths} Months</p>
				</div>
			</div>

			<!-- modal footer start-->
			<footer class="slds-modal__footer">
				<lightning-button class="slds-button" variant="neutral" label="Cancel" onclick={hideModalBox}></lightning-button>
				<lightning-button class="slds-button" variant="success" label="Confirm Offer" onclick={selectThisOffer}></lightning-button>
			</footer>
		
		</div>
	</section>
	<div class="slds-backdrop slds-backdrop_open"></div>
	</template>
	 <!-- modal end -->

</template>