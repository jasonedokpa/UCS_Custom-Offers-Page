<template>
	<div class="slds-card slds-card_boundary" style="width:450px;">
		<h1 style="display: flex; align-items: center; justify-content: space-around; font-size:15px; background-color:#f7f8fc; color:#172c5a; padding-bottom:25px; padding-top:25px; padding-left: 10px">
			<div>
				<b>Prospected {termInMonths} Month Terms</b>
			</div>
			<label class="slds-form-element__label" for="slider-id-01">
				<span class="slds-slider-label">
					<span style="font-size: 10px; color:#949dad; display: flex; justify-content: flex-end;" class="slds-slider-label__label">FUNDING AMOUNT</span>
					<span style="font-size: 15px;" class="slds-slider-label__range">${minFundingAmtLabel} - ${maxFundingAmtLabel}</span>
				</span>
			</label>
		</h1>
		<div style="padding:20px;">
			<div class="slds-form-element">
				<div class="slds-form-element__control">
					<div class="slds-slider">
					<input type="range" id="slider-id-01" class="slds-slider__range slds-size_small" style="margin-right: 20px;" step=100 min={minFundingAmt} max={maxFundingAmt} value={fundingAmt} oninput={changeFundingAmt}>
					<span class="slds-slider__value" aria-hidden="true" style="font-size: 24px; color:#223655"><b>${fundingAmtLabel}</b></span>
					</div>
				</div>
			</div>
		</div>
		<div style="display:flex; flex: 75% 25%; padding-bottom: 25px;">
			<div class="grid-container">
				<div class="grid-item">
					<p style="color: #949dad">PAYBACK AMOUNT</p>
					<p style="font-size:15px; color:#2ac58b;">${paybackAmt}</p>
				</div>
				<div class="grid-item">
					<p style="color: #949dad">PMT SCHEDULE</p>
					<p style="color:#172c5a; font-size: 15px">{pmtSchedule}</p>
				</div>
				<div class="grid-item">
					<p style="color: #949dad">PAYMENT AMOUNT</p>
					<p style="color:#172c5a; font-size:15px">${paymentAmt}</p>
				</div>
				<div class="grid-item">
					<p style="color: #949dad">TERM</p>
					<p style="color:#172c5a; font-size:15px">{termInMonths} Months</p>
				</div>
				<div class="grid-item">
					<p style="color: #949dad">PREPAY DISCOUNTS/OPTIONS</p>
					<p style="color:#172c5a; font-size:15px">None</p>
				</div>
			</div>
			<div style="position: absolute;bottom:25px;right:25px">
				<template if:true={selectOffer}>
					<button class="slds-button select-offer-button" onclick={showModalBox}>SELECT OFFER</button>
				</template>
				<template if:true={unselectOffer}>
					<lightning-button label="DESELECT OFFER" onclick={deSelectThisOffer}></lightning-button>
				</template>
			</div>
		</div>
	</div>

	 <!-- modal start -->      
	<template if:true={isShowModal}>
	<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
		<div class="slds-modal__container">

			<!-- modal header start -->
			<header class="slds-modal__header">
				<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModalBox}>
					<lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small" ></lightning-icon> <span class="slds-assistive-text">Close</span>
				</button>
				<h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">CHOOSE YOUR OFFER</h2>
			</header>
		
			<!-- modal body start -->
			<div class="slds-modal__content slds-var-p-around_medium" id="modal-content-id-1">
				<h2>Please upload these required documents:</h2>
				<br>
				<template for:each={closingDocumentsRequired} for:item="document" for:index="index">
					<h1 key={document}>â€¢ {document}</h1>
				</template>
				<br><br>
				<c-custom-file-upload record-id={opportunityID}></c-custom-file-upload>
				
				<div style="display:flex; flex: 75% 25%; padding-bottom:25px; padding-top:25px;">
					<div class="grid-container">
						<div class="grid-item">
							<p style="color: #949dad">PAYBACK AMOUNT</p>
							<p style="font-size:15px; color:#2ac58b;">${paybackAmt}</p>
						</div>
						<div class="grid-item">
							<p style="color: #949dad">PMT SCHEDULE</p>
							<p style="color:#172c5a; font-size: 15px">{pmtSchedule}</p>
						</div>
						<div class="grid-item">
							<p style="color: #949dad">PAYMENT AMOUNT</p>
							<p style="color:#172c5a; font-size:15px">${paymentAmt}</p>
						</div>
						<div class="grid-item">
							<p style="color: #949dad">TERM</p>
							<p style="color:#172c5a; font-size:15px">{termInMonths} Months</p>
						</div>
						<div class="grid-item">
							<p style="color: #949dad">PREPAY DISCOUNTS/OPTIONS</p>
							<p style="color:#172c5a; font-size:15px">None</p>
						</div>
					</div>
					<div style="flex-grow:1; display:block;">
						<div class="slds-card slds-card_boundary" style="position:absolute; left:33%; top:33%">
							<p>FUNDING AMOUNT</p>
							<div class="slds-slider__value" aria-hidden="true" style="font-size: 24px; color:#223655"><b>${fundingAmtLabel}</b></div>
						</div>
					</div>	
				</div>

			</div>

			<!-- modal footer start-->
			<footer class="slds-modal__footer" style="display:flex; align-items:center; justify-content:center;">
				<button class="slds-button big-cancel-button" onclick={hideModalBox}>CANCEL</button>
				<button class="slds-button big-select-offer-button" onclick={selectThisOffer}>SELECT OFFER</button>
			</footer>
		
		</div>
	</section>
	<div class="slds-backdrop slds-backdrop_open"></div>
	</template>
	 <!-- modal end -->

</template>